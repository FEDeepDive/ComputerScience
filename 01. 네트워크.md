### 2-1 네트워크의 기초

**네트워크란 ?**

노드(서버, 라우터, 스위치 등)와 링크가 서로 연결되어 있으며 리소스를 공유하는 집합

**좋은 네트워크란 ?**

많은 처리량을 처리할 수 있으며 지연 시간이 짧고 장애 빈도가 적으며 보안에 좋은 네트워크

- 처리량 : 처리한 트래픽의 량(bps)
- 지연시간 : 요청이 처리되는 시간으로 어떤 메세지가 두 장치 사이를 왕복하는데 걸린 시간
- 대역폭 : 주어진 시간 동안 네트워크 연결을 통해 흐를 수 있는 최대 비트 수

**네트워크 토폴로지**

노드와 링크의 배치 방식이자 연결 형태

- 트리 토폴로지 : 트리(계층) 형태
  - 장점 : 노드 추가/삭제가 용이함
  - 단점 : 트래픽이 집중될 때 하위 노드에 영향을 끼칠 수 있음
- 버스 토폴로지 : 중앙 통신 회선에 여러개의 노드가 연결된 형태
  - 장점 : 설치비용 적음, 신뢰성 우수, 노드 추가/삭제 용이
  - 단점 : 스푸핑이 발생할 수 있음
- 스타 토폴로지 : 중앙에 있는 노드에 연결된 형태
  - 장점 : 노드 추가, 에러탐지 용이
  - 단점 : 중앙노드 장애 발생 시 전체 네트워크 사용 불가, 설치비용 높음
- 링형 토폴로지 : 각 노드가 양옆의 노드와 연결된 고리 형태
  - 장점 : 에러탐지 용이, 충돌 가능성 낮음
  - 단점 : 네트워크 구성 변경이 어려움, 회선 장애 발생 시 전체 네트워크 사용 불가
- 메시 토폴로지 : 그물망 형태
  - 장점 : 장애 발생 시 다른 경로로 네트워킹 가능, 트래픽 분산 처리 가능
  - 단점 : 노드 추가 어려움, 구축/운용비용높음

**병목현상**

전체 시스템이 성능이나 용량등으로 제한을 받는 현상. 병목현상 발생을 막기 위해 토폴로지가 중요하다.

- 성능 분석 명령어 : `ping`, `netstat`, `nslookup`, `tracert`

**네트워크 분류**

- LAN(Local Area Network) : 근거리 통신망, 건물이나 캠퍼스
- MAN(Metropolitan Area Network) : 대도시 지역 네트워크, 도시
- WAN(Wide Area Network)) : 광역네트워크, 국가나 대륙

### 2-2 **TCP/IP 4계층**

**TCP/IP 4계층 모델이란 ?**

네트워크에서 사용되는 통신 프로토콜을 네트워킹의 범위에 따라 4개의 계층으로 추상화 한 모델

- **애플리케이션 계층**
  HTTP, FTP, SSH, SMTP, DNS 등의 응용프로그램이 사용되는 계층
- **전송 계층**
  - 추후정리예졍..
- **인터넷 계층**
  - 추후정리예졍..
- **링크 계층(네트워트 접근계층)**
  전선, 광섬유, 무선 등 물리적 데이터 전송과 네트워크 접근을 관리하는 계층

**PDU(Protocol Data Unit)**

데이터가 계층간 전달 될 때 데이터 한 덩어리의 단위로 헤더, 페이로드로 구성되어 있음

- 애플리케이션 계층 : 메세지
- 전송 계층 : 세그먼트(TCP), 데이터그램(UDP)
- 인터넷 계층 : 패킷
- 링크 계층 : 프레임(데이터링크), 비트(물리)

**계층간 데이터 송수신과정**

- 캡슐화 : 상위 계층에서 하위 계층으로 데이터가 전달되면서 헤더를 삽입하는 과정
- 비캡슐화 : 하위 계층에서 상위 계층으로 데이터가 전달되면서 각 계층의 헤더를 제거하는 과정

### 2-3 네트워크 기기

**애플리케이션 계층 - L7 스위치**

- L7 스위치 : 서버의 부하를 분산하는 기기로 URL, 서버, 캐시, 쿠키를 기반으로 트래픽을 분산시킴. 로드밸런서라고 하기도 함

**인터넷 계층 - 라우터, L3 스위치**

- 라우터 : 서로 다른 네트워크 간의 데이터 패킷을 전달, IP 주소를 기반으로 패킷의 최소 경로를 결정
- L3 스위치 : L2 스위치 기능과 라우팅 기능을 결합한 장비

**데이터 링크 계층 - L2 스위치, 브리지**

- L2 스위치 : MAC 주소를 기반으로 데이터를 전달하는 장비로 MAC 주소를 읽고 스위칭 하는역할
- 브리지 : 두 개의 근거리 통신망을 상호 접속할 수 있도록 하는 통신망 연결장치로 서로 다른 두 개의 근거리 통신망으로 하나의 통신망을 구축

**물리계층 - NIC, 리피터, AP**

- NIC(Network Interface Card) : 컴퓨터 내에 설치해 다른 장치나 네트워크에 연결해주는 하드웨어. 랜카드라고도 하며 MAC 주소를 가진다.
- 리피터 : 네트워크 신호를 증폭하여 더 먼 곳까지 전달하는 장치
- AP(Access Point) : 패킷을 복사하는 장치로 유선 LAN에 연결하여 무선 네트워크를 구축

## **ARP(Address Resolution Protocol)**

네트워크 상에서 가상주소인 IP 주소를 사용하여 네트워크 장비를 고유하게 식별하는 실제 주소인 MAC 주소를 찾는 프로토콜

## IP란

TCP/IP모델의 여러 프로토콜 중 하나로 인터넷에 연결된 모든 장치에 고유한 IP 주소를 할당하여 서로 데이터를 주고받을 수 있도록 하는 프로토콜

**IP 동작과정**

IP는 작은 패킷단위로 나눈 데이터와 IP 헤더를 결합해 데이터를 전송한다. 이 때 데이터를 송신하고 수신하는 장치를 호스트라고 지칭한다. 만약 목적지가 다른 네트워크에 있다면 송신 호스트는 라우터를 통해 다른 네트워크로 데이터를 전송할 수 있다.

- 유니캐스트 : 단 하나의 호스트에 데이터를 전송하는 것
- 브로드캐스트 : 같은 네트워크상의 모든 호스트에 데이터를 전송하는 것
- 멀티캐스트 : 특정 그룹에 포함되는 호스트에 데이터를 전송하는 것

**라우팅테이블**

라우터가 다른 네트워크로 데이터를 전송할 때 참고하는 리스트로 라우팅 테이블에 등록되는 정보를 루트정보(경로정보)라고 한다. 라우터는 원홉통신을 하기 때문에 이웃 라우터의 정보만 가지고 있으며 인식할수 없는 네트워크로 가는 IP 패킷은 모두 폐기 되기 때문에 경로정보를 빠짐없이 등록해 둬야 한다.

## **IP주소**

IP를 사용해 통신에 참여하는 모든 장치를 식별하는 주소. IP주소를 통해 통신할 상대를 지정할 수 있다.

**IP 주소의 체계**

과거에는 IP를 A, B, C, D, E 다섯 개의 클래스로 구분하는 클래스 기반 할당방식을 사용했으나 이는 사용하는 주소보다 버리는 주소가 많다는 단점이 있다.

**DHCP(Dynamic Host Configuration Protocol)**

네트워크 장치가 IP주소나 기타 통신에 매개변수들을 자동으로 할당받고 네트워크 설정을 구성하는 네트워크 관리 프로토콜

**NAT(Network Address Translation)**

하나의 네트워크에서 다른 네트워크로 패킷을 전달할 때 IP 주소를 변환하는 기술. IP주소는 이용범위에 따라 사설 IP주소와 공인 IP 주소로 분류되는데 사설 IP로는 응답을 받을 수 없다. 인터넷은 목적지가 사설 IP주소로 된 패킷은 폐기하기 때문이다. 따라서 사설네트워크에서 인터넷 통신을 하기 위해서는 NAT를 사용한다.

## HTTP(Hypertext Transfer Protocol)

웹에서 데이터를 주고받는데 사용되는 표준 프로토콜로 TCP 통신을 이용하며 요청과 응답을 주고받으며 데이터파일이 전송된다.

[**HTTP 버전별 특징**](https://zu-techlog.tistory.com/113)

- HTTP 1.0
  - 하나의 연결당 하나의 요청 처리 → 서버로부터 파일을 가져올 때마다 3웨이 핸드셰이킹을 열어야됨
- HTTP 1.1
  - keep-alive 옵션이 표준화가 되어 하나의 연결당 여러 번의 송수신 가능 → 하나의 연결에 다수의 리소스가 포함되어 있으면 대기시간(HOL blocking)이 길어짐
  - 헤더가 무거움
- HTTP 2
  - 여러개의 스트림을 사용하여 송수신하는 멀티플렉싱 기법을 사용해 HOL을 해결
  - HTTPS 위에서 동작
- HTTP 3
  - UDP 기반의 프로토콜로 사용

## HTTPS(Hypertext Transfer Protocol)

HTTP에 SSL/TLS 프로토콜을 추가해 암호화된 네트워크 연결을 보장해주는 프로토콜로 HTML 레이어 바로 밑단에 SSL을 추가해서 HTTP 메세지를 TCP로 보내기 전에 SSL에서 모든 데이터를 암호화 해줌

## HTTP 요청

- response 라인 :메소드 url, 버전
- 메세지 헤더 : 웹브라우저의 종류와 버전 등
- 공백라인 : 구분용도
- 엔티티 바디 : 특정 데이터를 보낼 때

## HTTP response

- response 라인 : http 버전, 상태코드, 상태 설명
- 메세지 헤더 : 데이터 형식, 갱신 날짜
- 공백라인 : 구분용도
- 엔티티 바디 : 응답 데이터나 html 파일
