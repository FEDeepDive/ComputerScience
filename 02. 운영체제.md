### **운영체제의 정의**

컴퓨터 하드웨어의 바로 위에 설치되어 사용자에게 편리한 인터페이스 환경을 제공하고 컴퓨터 시스템의 자원을 효율적으로 관리하는 소프트웨어

### **운영체제의 역할(목표)**

- **CPU 스케줄링과 프로세스 관리** : CPU 소유권을 어떤 프로세스에 할당할 지, 프로세스의 생성/삭제, 자원 할당/반환 관리
- **메모리 관리** : 한정된 메모리를 어떤 프로세스에 얼만큼 할당해야 하는지 관리
- **디스크 관리** : 디스크 파일을 어떠한 방법으로 보관할 지 관리
- **I/O 디바이스 관리** : I/O 장치간 데이터를 주고받는것을 관리

### **운영체제의 구조**

![](img/운영체제1.png)

- GUI : 사용자 인터페이스로 사용자의 명령을 커널에 전달하고 실행결과를 알려줌
- 커널 : 프로세스 관리, 메모리 관리, 저장장치 관리와 같은 운영체제의 핵심적인 기능을 모아놓은것
- 시스템 콜 : 운영체제가 커널에 접근하기 위한 인터페이스
  - 커널이 자신을 보호하기 위해 만든 인터페이스. 사용자나 응용 프로그램이 자원에 직접 접근하지 못하게 막음으로서 시스템 자원을 사용하기 위해서는 시스템 호출이라는 인터페이스를 사용
  - 동작원리 : 유저프로그램이 I/O 요청으로 트랩(trap)을 발동시키면 올바른 I/O 요청인지 확인한 후 유저모드가 시스템 콜을 통해 커널 모드로 변환되어 실행된다.
- 드라이버 : 하드웨어를 제어하기 위한 소프트웨어

### 컴퓨터의 요소

컴퓨터는 CPU(중앙처리장치), RAM(메모리), 입력장치, 출력장치, 저장장치로 구성

- CPU : 명령어를 해석하여 실행하는 장치
- RAM : 작업에 필요한 프로그램과 데이터를 저장하는 장소. 바이트 단위로 분할되어 있으며, 분할 공간마다 주소로 구분됨

인터럽트에 의해 메모리에 존재하는 명령어를 해석하여 실행하는 장치

### CPU

- 산술,논리연산장치(ALU, Arithmetic and Logical Unit) : 데이터의 산술연산과 논리연산을 수행
- 제어장치(CU, Control Unit)
  - CPU에서 작업을 통제하고 지시. 기억 장치로 부터 명령을 순차적으로 꺼내 해독하고 해석에 따른 작업 지시
- 레지스터(Register)
  - CPU 내에 데이터를 임시로 보관하는 공간으로 메모리 계층의 최상위에 위치하며 가장 빠른 속도로 접근 가능

### 인터럽트

CPU가 입출력 관리자에게 입출력 명령을 보낸 후, 입출력 관리자는 명령받은 데이터를 메모리에 가져다 놓거나, 메모리에 있는 데이터를 저장장치로 옮기는데 이러한 처리가 완료되고 **입출력 관리자가 CPU에게 보내는 신호**

### DMA 컨트롤러

I/O 디바이스가 메모리에 직접 접근할 수 있도록 하는 하드웨어 장치

### 메모리

전자회로에서 데이터나 상태 명령어 등을 기록하는 장치

### 메모리 계층

상위 계층일수록 속도가 빠르며 용량이 작고 비싸기 때문에 계층을 두어 관리한다.

- 레지스터 : CPU 안에 있는 작은 메모리. 휘발성, 속도 가장 빠름, 기억용량 가장 작음
- 캐시 : L1, L2 캐시 지칭. 휘발성, 속도 빠름, 기억용량 작음
- 주 기억장치 : RAM. 휘발성, 속도 보통, 기억용량 보통
- 보조기억장치 : HDD, SSD. 비휘발성, 속도 낮음, 기억용량 많음

### 지역성(Locality)

기억장치내의 정보를 균일하게 Access하는것이 아닌 어느 한 순간에 특정 부분을 집중적으로 참조하는 성질이 있다는 이론

- 시간 지역성 : 최근에 사용한 데이터에 다시 접근하려는 특성
  - 최근에 참조된 주소의 내용은 곧 다음에 다시 참조되는 특성
- 공간 지역성 : 최근에 접근한 데이터와 가까운참조된 주소와 인접한 주소의 내용이 다시 참조되는 특성

### 캐시

- 데이터를 미리 복사해놓는 임시 보관소로 두 장치간의 속도 차에 따른 병목 현상을 줄이기 위한 메모리

**캐시히트와 캐시미스**

CPU가 필요로 하는 데이터를 RAM으로 찾으러 가기전에 캐시에서 데이터의 존재여부를 확인하는데 이때 캐시메모리에 해당 데이터가 있는경우를 캐시 히트, 없는 경우를 캐시 미스라고 함

**캐시 매핑(Cache Mapping)**

캐시는 RAM보다 용량이 작기 때문에 캐시 미스가 발생할 수 밖에 없는데 다음과 같은 캐시 메모리 사상기법을 통해 캐시 적중률(캐시히트)을 높임

- **직접 매핑(Direct Mapping)** : RAM을 일정한 크기의 블록으로 나누어 각각의 블록을 캐시의 정해진 위치에 매핑
- **연관 매핑(Associate Mapping)** : 캐시 메모리의 빈 공간에 마음대로 주소를 저장하는 방식
- **집합 연관 매핑(Set Associate Mapping)** : 직접 매핑과 연관 매핑을 결합한 방식으로 빈 공간에 마음대로 주소를 저장하되, 미리 정해준 특정 행에만 저장하는 방식

**웹브라우저의 캐시**

- 쿠키 : 만료기한이 있는 키-값 저장소
- 로컬스토리지 : 만료기한이 없는 키-값 저장소
- 세션스토리지 : 만료기한이 있는 키-값 저장소

\*\* 참고로 데이터 베이스 위에 레디스라는 데이터베이스를 캐싱계층으로 두기도 한다.

### 가상 메모리

컴퓨터가 실제로 이용가능한 메모리 자원을 추상화하여 큰 메모리로 보이게 하는 것

### 페이지 부재(Page fault)

프로세스가 페이지를 요청했을때 해당 페이지가 가상메모리에는 존재하지만 실제 주소에는 없는 상황. 이

### 스레싱 (Threshing)

프로세스의 원활한 수행에 요한 최소한의 page frame수를 할당받지 못해 페이지 부재로 작업이 멈춘것 같은 상태. 너무 많은 프로세스가 동시에 수행될 때 스레싱이 발생한다. 이를 해결할 수 있는 방법은 작업세트와 PFF가 있다.
